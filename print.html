<!DOCTYPE html>
<html>
  <head>
    <title>Print Monkey Sense</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles.css">
    <script src="generator.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
      div, h1, button, input {
        color: black;
        text-align: left;
        font-family: 'Times New Roman', Times, serif;
        font-weight: bold;
        font-size: 15px;
        word-wrap: normal;
      }

      .page-group {
        column-count: 2;
        column-width: 40vw;
        column-gap: 10vw;
        page-break-after: always;
        margin: 0px 2vw;
      }

      .question {
        margin-bottom: 18px;
        line-height: 130%;
        width: 100%;
        /* display: flex;
        justify-content: left;
        column-gap: 8px; */
      }

      .answer-blank {
        flex: 1 1 auto;
        position: relative;
      }

      .answer-blank::before {
        content: "";
        position: absolute;
        bottom: -2px;
        width: 100%;
        height: .1px;
        background-color: black;
      }
      .question::after {
        content: "______";
        font-weight: bold;
        margin-left: 6px;
      }

      @page {
        size: A4;
      }
    </style>
    <script>
      const queryParams = new URLSearchParams(window.location.search);
      let useAsciiMath = true;
      MathJax = {
        loader: {load: ['input/asciimath', 'output/chtml', 'ui/menu']},
        startup: {
          ready: () => {
            mode = queryParams.get("mode") || "ns";
            let offset = 0;
            for (let element of document.getElementsByClassName("page-group")) {
              element.innerHTML = new Array(40).fill(0).map((_, i) => {
                generateQuestion();
                return `<div class="question">(${i + 1 + offset}) &nbsp;${modeData.question.str}</div>`;
                // return `<div class="question"><div>${modeData.question.str}</div><div class="answer-blank"></div></div>`;
              }).join("");
              offset += 40;
            }
            MathJax.startup.defaultReady();
            MathJax.startup.promise.then(() => {
              MathJax.typeset();
              setTimeout(() => {
                print();
              }, 400);
            })
          }
        }
      }
    </script>
  </head>
  <body style="background-color: white;">
    <div class="page-group"></div>
    <div class="page-group"></div>
  </body>
</html>